
<br>

# **10 - Centralized Monitoring Zabbix**


<br>

## **10.1 Introduction**

This chapter introduces centralized monitoring using Zabbix and its role in observing the state of the network and servers. Monitoring is used to validate the network design and overall infrastructure operation.

It begins with enabling SNMP on routers and switches included in the project, allowing monitoring data to be collected from network devices. The Zabbix server runs on **HQ-SRV-MON-01**, while the Zabbix agent is deployed on the infrastructure server to provide host-level monitoring.

Zabbix then acts as the central monitoring platform, presenting data through dashboards and network maps and demonstrating problem detection through several monitoring scenarios.


<br>


## **10.2 Topology diagram**

![](images/Pasted%20image%2020260119205506.png)


<br>

## **10.3 Objectives**

1. Prepare network devices for centralized monitoring by enabling SNMP on routers and switches.
    
2. Demonstrate detection of an infrastructure server outage.
    
3. Demonstrate detection of an edge router failure.
    
4. Demonstrate detection of an access switch port failure.
    
5. Demonstrate detection of an HTTP service failure on the infrastructure server.
    
6. Demonstrate detection of a low disk space condition on the infrastructure server.


<br>


## **10.4 SNMP Preparation for Centralized Monitoring**


This first section prepares network devices for centralized monitoring using Zabbix. SNMP is enabled on routers and switches so that the monitoring system can collect status and performance data. The goal is to make all internal network devices visible to Zabbix before the monitoring server is configured.

The same SNMP configuration is applied to all core routers, edge routers, and switches that are part of the monitoring scope. ISP routers, Internet-Cloud, and VPCS hosts are excluded.

***In this section, the configuration is demonstrated on BR1-EDGE-R4 as an example.***

<br>

### **Example Device**

**BR1-EDGE-R4 - Branch Edge Router**

This router represents a typical monitored network device. SNMP access is protected by the community string `zabbix-mon` configured with read-only (RO) permissions. The router uses a loopback interface as the management and monitoring IP address.

*For verification purposes, the SNMP configuration can be checked using the command `show running-config | section snmp` or `show snmp`


<br>

### **SNMP Configuration - BR1-EDGE-R4**

```
configure terminal
snmp-server community zabbix-mon RO
snmp-server contact Network-Admin
snmp-server location Branch-01
snmp-server enable traps
snmp-server host 10.50.20.10 version 2c zabbix-mon
end
write memory
```
![](images/Pasted%20image%2020260118051729.png)
 
>**Note:** The SNMP community name `zabbix-mon` is used to clearly identify monitoring traffic generated by the Zabbix system. The monitoring server runs on **HQ-SRV-MON-01 (Xubuntu)** and is dedicated to centralized network monitoring.


<br>

* The IP address `10.50.20.10` corresponds to the network interface of the monitoring server and is used by all monitored devices to send SNMP data.

* The `snmp-server location` parameter is used to identify the physical or logical site of the device (for example, Branch or Headquarters) and helps organize monitored devices in the monitoring system.


<br>


### Results

- SNMP is enabled on BR1-EDGE-R4 using SNMP version 2c.
    
- The device is ready to be monitored by Zabbix.
    
- The same configuration is applied to all other internal routers and switches.
    
- Network devices are prepared before installing and configuring the Zabbix server.


<br>
<br>

## **10.5 Zabbix Monitoring**

<br>

### **Purpose of Monitoring**


Zabbix is used in this project as a central monitoring system for the enterprise network. Its main purpose is to provide visibility into the availability and basic health of servers and network devices, and to detect problems early before they affect users or services.

In this project, several monitoring scenarios are simulated to show how Zabbix can be used in a real enterprise environment.  
These scenarios focus on common operational issues such as devices going offline, services not responding, and unusual network traffic.

The goal is not stress testing, but a clear demonstration of how monitoring data, triggers, maps, and dashboards help identify and understand problems in the network.

<br>

### **Global view**

![](images/Pasted%20image%2020260119210252.png)



<br>

## Monitored Infrastructure

The monitored infrastructure includes key network and server components of the enterprise topology.  
All critical network devices are added to Zabbix to provide basic availability and connectivity monitoring.

**The following components are monitored:**

- Core and edge routers (HQ and Branch)
    
- Distribution and access switches
    
- Infrastructure and monitoring servers
    

<br>

### **Monitored Infrastructure – Device List**

![](images/Pasted%20image%2020260119062342.png)


Network devices are monitored using **SNMP**, primarily for availability and basic interface status.  
Servers are monitored using the **Zabbix agent**, which provides host availability monitoring.

All monitored devices are organized into host groups and are used across dashboards and network maps to visualize the current state of the infrastructure.

<br>

### **Network map shortly after lab startup**

![](images/Pasted%20image%2020260119034124.png)


This screenshot shows the network map a few minutes after the lab was started from an offline state. Zabbix detects devices that were recently restarted and marks them with information or warning indicators.

After a short time, when device uptime increases and services become stable, these indicators are cleared and the network returns to a normal state.

<br>



## **10.6 Scenario 1 - Infrastructure Server Failure**


### Overview

This first scenario simulates a failure of the infrastructure server hosting critical services. The Zabbix agent running on the INFRA server becomes unavailable, allowing the monitoring system to demonstrate how server-level failures are detected and visualized.

The purpose of this scenario is to show how Zabbix identifies a single-server outage without affecting the rest of the network. The issue is detected early and clearly separated from network device problems.

<br>

### **Monitoring View**

The following dashboard view captures the state of the monitoring system shortly after the infrastructure server becomes unavailable:

- **Current problems** widget reports that the Zabbix agent on the HQ-SRV-INFRA-01 is not available
    
- Host availability widget shows one Zabbix agent in the _Not available_ state
    
- **Problems by level** shows an active _Average_ level problem
    
- **Network map** highlights the affected HQ-SRV-INFRA-01 while all other devices stay operational
    

<br>


![](images/Pasted%20image%2020260119035940.png)

This combination of widgets provides a clear and immediate overview of the incident and confirms that the issue is isolated to a single host.

<br>

## **10.7 Scenario 2 – Edge Router Failure**


### Overview

This is the second simulated monitoring scenario in the project.  
It demonstrates a failure of the edge router and shows how Zabbix detects and visualizes the impact on network connectivity between headquarters and the branch site.

The purpose of this scenario is to show how a single network device failure can affect multiple dependent devices and links, and how this situation is clearly visible on the monitoring dashboard.

<br><br>


### **Monitoring View**

The dashboard view below shows the monitoring state shortly after the edge router outage:

- The edge router is reported as **unavailable by ICMP ping**
    
- The Problems by level widget shows multiple High level problems
    
- The **Host availability** widget indicates multiple SNMP devices in the _Not available_ state
    
- The network map highlights affected devices in red, while devices in headquarters **stay operational**
    
- The failure of the edge router causes the **GRE tunnel to go down**, resulting in loss of connection between HQ and the branch

<br>



![](images/Pasted%20image%2020260119043213.png)

![](images/Pasted%20image%2020260119043740.png)



<br>

## **10.8 Scenario 3 – Access Switch Port Down**

### Overview

This next scenario simulates a single port failure on an access switch.  
One switch interface is manually shut down to show how Zabbix detects a local connection problem.

The purpose of this scenario is to demonstrate that Zabbix can clearly show a port-level issue without affecting the whole network.

![](images/Pasted%20image%2020260119045739.png)

<br>

### **Monitoring View**

- The network map highlights the access switch with a port in a warning state
    
- The _Current problems_ widget reports a link down event on interface **Gi0/3**
    
- The _Host availability_ widget still shows the device as available, because the switch itself is running normally
    
- The problem is limited to one port on one device
    
- All other network devices and servers work normally

<br>

![](images/Pasted%20image%2020260119045701.png)

![](images/Pasted%20image%2020260119045818.png)


<br>

## **10.9 Scenario 4 - HTTP Service Failure**

### Overview

This scenario demonstrates a situation where the **HTTP service on the infrastructure server is down**, while the server itself is still running.  
The goal is to show how Zabbix detects a **service-level problem**, not a full server failure.

Only the web service stops responding, while network connectivity and other systems continue to work normally.  
This helps clearly separate a **service outage** from a **server or network issue**.


![](images/Pasted%20image%2020260119062546.png)

<br>


### **Monitoring view:**

- The _Current problems_ widget reports that the HTTP service on **INFRA-SRV-01** is not available
    
- The **HTTP service status** widget shows an active problem for the web service
    
- The network map highlights the infrastructure server, while other devices stay in an OK state
    
- Host availability does not change, because the server is still online even though the HTTP service is down


![](images/Pasted%20image%2020260119060210.png)


<br>


## **10.10 Scenario 5 – Low Disk Space Warning**

### Overview

This last scenario demonstrates a disk space issue on the infrastructure server **INFRA-SRV-01**. The root filesystem (/) is used close to its capacity to verify that Zabbix detects and reports a low disk space condition.12345

The purpose of this scenario is to show basic storage capacity monitoring and to confirm that disk-related problems are detected separately from service or availability issues.

![](images/Pasted%20image%2020260119200911.png)

<br>

### **Monitoring View**

After the disk usage threshold is exceeded, Zabbix automatically detects the condition and displays it using existing monitoring components:

- The **Current problems** widget reports a low disk space issue on INFRA-SRV-01 with _Average_ severity
    
- The **Problem hosts** widget shows one Linux server with an active problem
    
- The **network map** highlights the infrastructure server, while all other devices stay in an OK state
    
- Host availability remains unchanged, as the server itself is still reachable and operational
    


### **Dashboard showing active "Low disk space on INFRA-SRV-01" problem:**
<br>
![](images/Pasted%20image%2020260119200839.png)


<br>


## **Results**

This Zabbix section presents centralized monitoring of network devices and servers using SNMP and Zabbix agent data. The system provides a clear global view of infrastructure status and automatically detects problems through existing dashboard widgets.

The five scenarios demonstrate detection of server outages, network and port-level failures, HTTP service unavailability, and low disk space conditions. Together, they confirm that Zabbix effectively identifies and visualizes availability, service, and resource-related issues in a consistent monitoring environment.


<br>

## **10.11 Conclusion**

This tenth chapter establishes centralized monitoring by enabling SNMP on network devices and deploying the Zabbix agent on the infrastructure server. The setup is verified through several test scenarios that confirm correct problem detection.

The final practical chapter focuses on real issues found during the project and documents their analysis and resolution in a dedicated troubleshooting part.

<br>


---


<br>
**Next Chapter:**